

# Installing the VM 

1. Download the ISO from : https://cdimage.debian.org/debian-cd/current/amd64/iso-cd/ choose the "debian-12.11.0-amd64-netinst.iso"
2. Install the VM using below command :
```
sudo virt-install \
	  --name debian12-sugoi \
	  --memory 2048 \
	  --vcpus 2 \
	  --disk size=15,path=/var/lib/libvirt/images/debian12-new.qcow2 \
	  --os-variant debian12 \
	  --location /var/lib/libvirt/images/debian-12.11.0-amd64-netinst.iso \
	  --network network=default \
	  --graphics none \
	  --console pty,target_type=serial \
	  --extra-args 'console=ttyS0,115200n8 serial'
```
### during installation
- When probing software installation choose SSH to enable SSH.
- Choose the proper mirror (ex: Indonesia or Singapore).
- Just go with the flow and choose anything based on the requirement or simply something that suits you.

### check whether the vm is active or not
```
sudo virsh --connect qemu:///system list --all
```

### how to delete and remove the vm
```
sudo virsh --connect qemu:///system shutdown debian12-headless
if doesn't shut down, force it
sudo virsh --connect qemu:///system destroy debian12-headless
```


dotnet sdk in the main host
dotnet runtime in the debian 12 (vm)


https://learn.microsoft.com/en-us/dotnet/core/install/linux-debian?tabs=dotnet9


https://stackoverflow.com/questions/47806576/username-is-not-in-the-sudoers-file-this-incident-will-be-reported

https://www.cherryservers.com/blog/install-kvm-ubuntu
sudo apt update
sudo apt install -y qemu-kvm libvirt-daemon-system libvirt-clients bridge-utils virt-manager >> virsh install after this one

# login and run inside the VM
sudo apt update
sudo apt install openssh-server

get ip after install the vm using ip a

myappservice example
``
```
[Unit]
Description=My .NET App
After=network.target

[Service]
ExecStart=/usr/bin/dotnet /home/youruser/myapp/MyApp.dll
WorkingDirectory=/home/youruser/myapp
Restart=always
User=youruser

[Install]
WantedBy=multi-user.target
```


checklogging and service control
```
View logs
journalctl -u myapp.service -f

Start/stop manually
sudo systemctl start myapp.service
sudo systemctl stop myapp.service
```

>helloword
>dqwdq

\\casc

<blockquote>
<p>Dorothy followed her through many rooms.ddddddddddddddddddddddddddddddddddddddddddddddddddd</p>
</blockquote>


exit to go back to regular user from root

dotnet publish -c Release -o out, to generate the dll


**Do NOT place your app directly in `/` (root directory)

bash

CopyEdit

`cd ~ mkdir -p apps/myapi cd apps/myapi`


scp -r "/media/se-108/Local Data/CSharp_Project/1.Test_raspi_deploy/RaspiSimpleAPI" zankam@192.168.122.184:/home/zankam/apps/myapi


zankam@zankam:/etc/systemd/system$ sudo nano raspisimpleapi.service




### Reload systemd to recognize new service
sudo systemctl daemon-reexec

### Enable autostart on boot
sudo systemctl enable myapp.service - disable

### Start it now
sudo systemctl start myapp.service

### Check its status
systemctl status myapp.service


### View all logs for your service
journalctl -u myapp.service

### Follow logs in real time (like tail -f)
journalctl -u myapp.service -f

### Limit to last 50 lines
journalctl -u myapp.service -n 50




https://stackoverflow.com/questions/47806576/username-is-not-in-the-sudoers-file-this-incident-will-be-reported


sudo su to access root


# Problems Encountered


Related Stuff :
- [[SSH]]
- [[3. Redo in Raspi]]
- 



