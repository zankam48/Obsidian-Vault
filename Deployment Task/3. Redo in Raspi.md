
# 1. Setting up the Raspi

1. burn the custom image (frost) to sd card
2. use card reader to read the sd card and burn the OS image with below command:
	 `xzcat <os-image-name>.raw.xz | sudo dd of=/dev/<sda> bs=4M conv=fsync status=progress`
3. input sd card to the raspi
4. log in to the raspi
5. change the hostname
6. done

## Local IP Addressing
1. Go to wired settings 
2. Add new wired connection
3. Set the IPv4 to local link only
4. 

DNS so 

# 2. Self-contained Deployment

```
[Unit]
Description=My .NET Core Application

[Service]
WorkingDirectory=/home/pi/apps
# In raspberry pi, the dotnet executable is placed inside $HOME/.dotnet
ExecStart=/home/pi/apps/RaspiSimpleAPI
Restart=always
# Restart service after 10 seconds if the dotnet service crashes:
RestartSec=10
KillSignal=SIGINT
SyslogIdentifier=dotnet-example
User=root
Environment=ASPNETCORE_ENVIRONMENT=Production

[Install]
WantedBy=multi-user.target
```

# Enable Passwordless
```
ssh-keygen -t rsa -b 4096 -C "raspi zankam"
ssh-copy-id pi@169.254.55.136
```

# Mount Raspi with Main host
### Using Ubuntu’s Nautilus File Manager:

1. Open **Files** (Nautilus)
2. Press `Ctrl + L` (or use the address bar)
3. Type:
4. 
	`sftp://pi@<IP || hostname>`
5. Enter the password when prompted (`raspberry` if default)

You’ll get access to Pi’s home folder in a window, drag-n-drop like local files.


```bash
dotnet publish -c Release -r linux-arm64 --self-contained true -p:PublishTrimmed=true
```



# Reference & Related Stuff

**Problems Encountered** :
- https://stackoverflow.com/questions/47806576/username-is-not-in-the-sudoers-file-this-incident-will-be-reported

**Related Stuff :**
- [[SSH]]
- [[3. Redo in Raspi]]

**Reference : 
- https://learn.microsoft.com/en-us/dotnet/core/install/linux-debian?tabs=dotnet9
- https://www.cherryservers.com/blog/install-kvm-ubuntu

**Related Stuff :**
- [[SSH]]
- See [[RaspiConnections.excalidraw]]


https://andrewlock.net/should-i-use-self-contained-or-framework-dependent-publishing-in-docker-images/


curl http://169.254.55.136:5000/weatherforecast








